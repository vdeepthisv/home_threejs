<!DOCTYPE html>
<html>
<head lang="en">

    <script src="scripts/js/three.min.js"></script>
    <script src="scripts/js/OrbitControls.js"></script>
</head>
<body>
<script>

    var three = THREE;
    var scene = new THREE.Scene();

    var renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, shadowMapEnabled :true,shadowMapSoft : true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    renderer.setClearColor("white");

    var clock = new THREE.Clock();

    //camera details
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.x = 0;
    camera.position.y = 3;
    camera.position.z = 7;
    camera.lookAt({x:0,y:0,z:0});


    cube = new THREE.Mesh(new THREE.BoxGeometry(3,2,4), new THREE.MeshPhongMaterial({color: 0xCC0000, shininess: 2, specular: "red"}));
    scene.add(cube);
    cube.position.x = 0.2;
    cube.position.y = 1;
    cube.castShadow = true;
    cube.receiveShadow = true;

    grass = new THREE.Mesh(new THREE.PlaneBufferGeometry (20,20), new THREE.MeshPhongMaterial({color: 0x22FF11, shininess: 2, specular: "green"}));
    scene.add(grass);
    grass.rotation.x = THREE.Math.degToRad(-90);
    scene.add(grass);
    grass.position.y =- 0.01;
    grass.receiveShadow = true;

    //scene.add( new THREE.AmbientLight( 0x212223) );

    var light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(3, 2, 1).normalize();
    scene.add(light);

    renderer.shadowMapEnabled = true;
    renderer.shadowMapSoft = false;

    light.shadowCameraNear = 0.5;
    light.shadowCameraFar = camera.far;
    //light.shadowCameraFov = 50;

    light.shadowMapBias = 0.0039;
   light.shadowMapDarkness = 0.5;
   light.shadowMapWidth = 1024;
    light.shadowMapHeight = 1024;

    light.castShadow = true;

    //controls
    var controls = new THREE.OrbitControls(camera);
    controls.damping = 0.2;
    controls.addEventListener('change',render);
    var render = function () {
        requestAnimationFrame(render);
        var delta = clock.getDelta();
        //console.log(delta);
        renderer.render(scene, camera);

    };
    render();


     //   renderer.render(scene, camera);

</script>


</body>


</html>